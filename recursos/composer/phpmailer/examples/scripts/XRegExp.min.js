var XRegExp;if(XRegExp)throw Error("can't load XRegExp twice in the same frame");!function(e){function f(e,t){if(!XRegExp.isRegExp(e))throw TypeError("type RegExp expected");var i=e._xregexp;return e=XRegExp(e.source,h(e)+(t||"")),i&&(e._xregexp={source:i.source,captureNames:i.captureNames?i.captureNames.slice(0):null}),e}function h(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function d(e,t,i,n){var o,l,u,a=s.length;r=!0;try{for(;a--;)if(u=s[a],i&u.scope&&(!u.trigger||u.trigger.call(n))&&(u.pattern.lastIndex=t,l=u.pattern.exec(e),l&&l.index===t)){o={output:u.handler.call(n,l,i),match:l};break}}catch(c){throw c}finally{r=!1}return o}function p(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}XRegExp=function(t,n){var u,h,p,g,m,s=[],o=XRegExp.OUTSIDE_CLASS,l=0;if(XRegExp.isRegExp(t)){if(n!==e)throw TypeError("can't supply flags when constructing one RegExp from another");return f(t)}if(r)throw Error("can't call the XRegExp constructor within token definition functions");for(n=n||"",u={hasNamedCapture:!1,captureNames:[],hasFlag:function(e){return n.indexOf(e)>-1},setFlag:function(e){n+=e}};l<t.length;)h=d(t,l,o,u),h?(s.push(h.output),l+=h.match[0].length||1):(p=a.exec.call(c[o],t.slice(l)))?(s.push(p[0]),l+=p[0].length):(g=t.charAt(l),"["===g?o=XRegExp.INSIDE_CLASS:"]"===g&&(o=XRegExp.OUTSIDE_CLASS),s.push(g),l++);return m=RegExp(s.join(""),a.replace.call(n,i,"")),m._xregexp={source:t,captureNames:u.hasNamedCapture?u.captureNames:null},m},XRegExp.version="1.5.1",XRegExp.INSIDE_CLASS=1,XRegExp.OUTSIDE_CLASS=2;var t=/\$(?:(\d\d?|[$&`'])|{([$\w]+)})/g,i=/[^gimy]+|([\s\S])(?=[\s\S]*\1)/g,n=/^(?:[?*+]|{\d+(?:,\d*)?})\??/,r=!1,s=[],a={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=a.exec.call(/()??/,"")[1]===e,l=function(){var e=/^/g;return a.test.call(e,""),!e.lastIndex}(),u=RegExp.prototype.sticky!==e,c={};c[XRegExp.INSIDE_CLASS]=/^(?:\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S]))/,c[XRegExp.OUTSIDE_CLASS]=/^(?:\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u[\dA-Fa-f]{4}|c[A-Za-z]|[\s\S])|\(\?[:=!]|[?*+]\?|{\d+(?:,\d*)?}\??)/,XRegExp.addToken=function(e,t,i,n){s.push({pattern:f(e,"g"+(u?"y":"")),handler:t,scope:i||XRegExp.OUTSIDE_CLASS,trigger:n||null})},XRegExp.cache=function(e,t){var i=e+"/"+(t||"");return XRegExp.cache[i]||(XRegExp.cache[i]=XRegExp(e,t))},XRegExp.copyAsGlobal=function(e){return f(e,"g")},XRegExp.escape=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},XRegExp.execAt=function(e,t,i,n){var s,r=f(t,"g"+(n&&u?"y":""));return r.lastIndex=i=i||0,s=r.exec(e),n&&s&&s.index!==i&&(s=null),t.global&&(t.lastIndex=s?r.lastIndex:0),s},XRegExp.freezeTokens=function(){XRegExp.addToken=function(){throw Error("can't run addToken after freezeTokens")}},XRegExp.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},XRegExp.iterate=function(e,t,i,n){for(var a,r=f(t,"g"),s=-1;a=r.exec(e);)t.global&&(t.lastIndex=r.lastIndex),i.call(n,a,++s,e,t),r.lastIndex===a.index&&r.lastIndex++;t.global&&(t.lastIndex=0)},XRegExp.matchChain=function(e,t){return function i(e,n){var o,r=t[n].regex?t[n]:{regex:t[n]},s=f(r.regex,"g"),a=[];for(o=0;o<e.length;o++)XRegExp.iterate(e[o],s,function(e){a.push(r.backref?e[r.backref]||"":e[0])});return n!==t.length-1&&a.length?i(a,n+1):a}([e],0)},RegExp.prototype.apply=function(e,t){return this.exec(t[0])},RegExp.prototype.call=function(e,t){return this.exec(t)},RegExp.prototype.exec=function(t){var i,n,r,s;if(this.global||(s=this.lastIndex),i=a.exec.apply(this,arguments)){if(!o&&i.length>1&&p(i,"")>-1&&(r=RegExp(this.source,a.replace.call(h(this),"g","")),a.replace.call((t+"").slice(i.index),r,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(i[t]=e)})),this._xregexp&&this._xregexp.captureNames)for(var u=1;u<i.length;u++)n=this._xregexp.captureNames[u-1],n&&(i[n]=i[u]);!l&&this.global&&!i[0].length&&this.lastIndex>i.index&&this.lastIndex--}return this.global||(this.lastIndex=s),i},RegExp.prototype.test=function(e){var t,i;return this.global||(i=this.lastIndex),t=a.exec.call(this,e),t&&!l&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,this.global||(this.lastIndex=i),!!t},String.prototype.match=function(e){if(XRegExp.isRegExp(e)||(e=RegExp(e)),e.global){var t=a.match.apply(this,arguments);return e.lastIndex=0,t}return e.exec(this)},String.prototype.replace=function(e,i){var r,s,o,l,n=XRegExp.isRegExp(e);return n?(e._xregexp&&(r=e._xregexp.captureNames),e.global||(l=e.lastIndex)):e+="","[object Function]"===Object.prototype.toString.call(i)?s=a.replace.call(this+"",e,function(){if(r){arguments[0]=new String(arguments[0]);for(var t=0;t<r.length;t++)r[t]&&(arguments[0][r[t]]=arguments[t+1])}return n&&e.global&&(e.lastIndex=arguments[arguments.length-2]+arguments[0].length),i.apply(null,arguments)}):(o=this+"",s=a.replace.call(o,e,function(){var e=arguments;return a.replace.call(i+"",t,function(t,i,n){if(!i){var a=+n;return a<=e.length-3?e[a]:(a=r?p(r,n):-1,a>-1?e[a+1]:t)}switch(i){case"$":return"$";case"&":return e[0];case"`":return e[e.length-1].slice(0,e[e.length-2]);case"'":return e[e.length-1].slice(e[e.length-2]+e[0].length);default:var s="";if(i=+i,!i)return t;for(;i>e.length-3;)s=String.prototype.slice.call(i,-1)+s,i=Math.floor(i/10);return(i?e[i]||"":"$")+s}})})),n&&(e.global?e.lastIndex=0:e.lastIndex=l),s},String.prototype.split=function(t,i){if(!XRegExp.isRegExp(t))return a.split.apply(this,arguments);var o,l,n=this+"",r=[],s=0;if(i===e||0>+i)i=1/0;else if(i=Math.floor(+i),!i)return[];for(t=XRegExp.copyAsGlobal(t);(o=t.exec(n))&&!(t.lastIndex>s&&(r.push(n.slice(s,o.index)),o.length>1&&o.index<n.length&&Array.prototype.push.apply(r,o.slice(1)),l=o[0].length,s=t.lastIndex,r.length>=i));)t.lastIndex===o.index&&t.lastIndex++;return s===n.length?(!a.test.call(t,"")||l)&&r.push(""):r.push(n.slice(s)),r.length>i?r.slice(0,i):r},XRegExp.addToken(/\(\?#[^)]*\)/,function(e){return a.test.call(n,e.input.slice(e.index+e[0].length))?"":"(?:)"}),XRegExp.addToken(/\((?!\?)/,function(){return this.captureNames.push(null),"("}),XRegExp.addToken(/\(\?<([$\w]+)>/,function(e){return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),XRegExp.addToken(/\\k<([\w$]+)>/,function(e){var t=p(this.captureNames,e[1]);return t>-1?"\\"+(t+1)+(isNaN(e.input.charAt(e.index+e[0].length))?"":"(?:)"):e[0]}),XRegExp.addToken(/\[\^?]/,function(e){return"[]"===e[0]?"\\b\\B":"[\\s\\S]"}),XRegExp.addToken(/^\(\?([imsx]+)\)/,function(e){return this.setFlag(e[1]),""}),XRegExp.addToken(/(?:\s+|#.*)+/,function(e){return a.test.call(n,e.input.slice(e.index+e[0].length))?"":"(?:)"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("x")}),XRegExp.addToken(/\./,function(){return"[\\s\\S]"},XRegExp.OUTSIDE_CLASS,function(){return this.hasFlag("s")})}();